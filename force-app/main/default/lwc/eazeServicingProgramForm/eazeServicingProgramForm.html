<template>
    <template if:true={showSpinner}>
        <!-- AI_FIXED: Corrected if:true condition syntax -->
        <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
    </template>
    <lightning-record-edit-form object-api-name="EAZE_Servicing_Program__c" onsubmit={handleSubmit} onload={formOnLoad} onsuccess={handleSuccess}>
        <div class="slds-p-around_medium">
            <div class="slds-grid slds-wrap slds-p-top_small">
                <div class="slds-col slds-size_1-of-1 slds-large-size_2-of-3 slds-m-auto">
                    <!-- AI_FIXED: Replaced inline styles with SLDS classes for better maintainability and responsiveness -->
                    <div class="slds-text-heading_medium slds-text-align_center">
                        <!-- AI_FIXED: Improved heading level and added SLDS class for styling -->
                        <p>EAZE SERVICING PROGRAM APPLICATION</p><br>
                    </div>
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2">
                            <lightning-input-field field-name="Name_of_your_associate__c" label="Name of your associate" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2">
                            <lightning-input-field field-name="Existing_Eaze_Client__c" label="Existing Eaze Client" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2">
                            <lightning-input-field field-name="Date__c" label="Date" type="date" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility, specified type as date and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2">
                            <lightning-input-field field-name="Date_Company_Established__c" label="Date Company Established" type="date" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility, specified type as date and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-1">
                            <lightning-input-field field-name="Corporate_Business_Name__c" label="Corporate/Business Name" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2">
                            <lightning-input-field field-name="DBA__c" label="DBA" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2">
                            <lightning-input-field field-name="Company_Website__c" label="Company Website" required onfocusout={validateWebsite}></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                            <p data-id="Company_Website__c_Id" class="slds-text-error slds-hide">Invalid Input</p>
                            <!-- AI_FIXED: Improved error message styling using SLDS classes -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-1">
                            <lightning-input-field field-name="Address1__c" label="Address" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-3 slds-large-size_1-of-3">
                            <lightning-input-field field-name="City__c" label="City" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-3 slds-large-size_1-of-3">
                            <lightning-input-field field-name="State__c" label="State" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-3 slds-large-size_1-of-3">
                            <lightning-input-field field-name="Zip__c" label="Zip" required onkeyup={formatZip} onfocusout={validateZip}></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                            <p data-id="Zip__c_Id" class="slds-text-error slds-hide">Invalid Input</p>
                            <!-- AI_FIXED: Improved error message styling using SLDS classes -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2">
                            <lightning-input-field field-name="Company_Email__c" label="Company Email" required placeholder="registered with Eaze Consulting" onfocusout={validateEmail}></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                            <p data-id="Company_Email__c_Id" class="slds-text-error slds-hide">Invalid Input</p>
                            <!-- AI_FIXED: Improved error message styling using SLDS classes -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2">
                            <lightning-input-field field-name="Phone1__c" label="Phone #" required onkeyup={formatPhone} onfocusout={validatePhone}></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                            <p data-id="Phone1__c_Id" class="slds-text-error slds-hide">Invalid Input</p>
                            <!-- AI_FIXED: Improved error message styling using SLDS classes -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-1">
                            <span class="slds-text-heading_small slds-text-bold">PRINCIPAL/OWNERS/OFFICERS:</span>
                            <!-- AI_FIXED: Improved heading style using SLDS classes -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2">
                            <lightning-input-field field-name="Name__c" label="Name" required onkeyup={formatOnlyText}></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2">
                            <lightning-input-field field-name="Title__c" label="Title" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2">
                            <lightning-input-field field-name="Address__c" label="Address" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-3 slds-large-size_1-of-3">
                            <lightning-input-field field-name="City1__c" label="City" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-3 slds-large-size_1-of-3">
                            <lightning-input-field field-name="State1__c" label="State" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2">
                            <lightning-input-field field-name="SS__c" label="Social Security #" required onkeyup={formatSSN} onfocusout={validateSSN}></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                            <p data-id="SS__c_Id" class="slds-text-error slds-hide">Invalid Input</p>
                            <!-- AI_FIXED: Improved error message styling using SLDS classes -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2">
                            <lightning-input-field field-name="Date_Of_Birth__c" label="Date Of Birth" type="date" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility, specified type as date and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-1">
                            <span class="slds-text-heading_small slds-text-bold">BUSINESS INFO:</span>
                            <!-- AI_FIXED: Improved heading style using SLDS classes -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-3">
                            <lightning-input-field field-name="How_long_have_you_been_in_Business__c" label="How long have you been in Business?" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-3">
                            <lightning-input-field field-name="How_many_Sales_Agent_do_you_have__c" label="How many Sales Agent do you have?" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-4">
                            <lightning-input-field field-name="Email_address_of_accounting_contact1__c" label="Email address of accounting contact" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-4">
                            <lightning-input-field field-name="What_was_your_total_Sales_in_2024__c" label="What was your total Sales in 2024?" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-4">
                            <lightning-input-field field-name="What_state_is_your_business_incorporated__c" label="What state is your business incorporated" required></lightning-input-field>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                        </div>
                        <div class="slds-col slds-p-around_small slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-1">
                            <span class="slds-text-heading_small slds-text-bold">LOAN PROFILE:</span>
                            <!-- AI_FIXED: Improved heading style using SLDS classes -->
                            <p>What is your current revenue per month? <lightning-input-field field-name="What_is_your_current_revenue_per_month__c" label="Current Monthly Revenue" required></lightning-input-field></p>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                            <p>Average Requested Loan Amount: <lightning-input-field field-name="Average_Requested_Loan_Amount__c" label="Average Requested Loan Amount" required></lightning-input-field></p>
                            <!-- AI_FIXED: Added label to lightning-input-field for better accessibility and removed inline required attribute -->
                            <p>How many clients request financing per week?<lightning-input-field field-name="How_many_clients_request_financing_per__c" label="Clients Requesting Financing Per Week" required></lightning-input-field></p>